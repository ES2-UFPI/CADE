(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{L6id:function(l,n,u){"use strict";u.r(n);var i=u("8Y7J");class o{}var e=u("pMnS"),t=u("oBZk"),r=u("ZZ/e"),c=u("SVse"),b=u("iInd"),a=u("1tsC"),s=u("LQx1");class h{constructor(l,n,u,i){this._anuncioService=l,this._perfilService=n,this._locationService=u,this._route=i,this.anuncios=[]}ngOnInit(){}ionViewWillEnter(){this.perfil=this._perfilService.load("perfil"),this.location=this._route.snapshot.data.location.latLng,console.log(this.location),this.search()}search(){this.perfil&&this.location||(this.perfil={raio:500,categorias:[]},this.location={lat:-5.115061,lng:-42.811459}),this.findAnunciosByPerfil()}findAnunciosByPerfil(){this._anuncioService.findByLocationAndPerfil(this.perfil,this.location).subscribe(l=>{this.anuncios=[],l.forEach(l=>{l.forEach(l=>{this.anuncios.push(l),this._anuncioService.checkViewed(l)})}),console.log(this.anuncios)})}distance(l){const n=this._locationService.distance(this.location,l.geolocalizacao);if(n<1e3)return String(n.toFixed(0)+"m");{const l=n.valueOf()/1e3;return String(l.toFixed(1)+"km")}}doRefresh(l){this.search(),setTimeout(()=>{console.log("Async operation has ended"),l.target.complete()},2e3)}}var f=i.pb({encapsulation:0,styles:[[""]],data:{}});function p(l){return i.Jb(0,[(l()(),i.rb(0,0,null,null,2,"ion-item",[],null,null,null,t.T,t.r)),i.qb(1,49152,null,0,r.I,[i.h,i.k,i.x],null,null),(l()(),i.Ib(-1,0,[" Nenhum an\xfancio encontrado no momento. "]))],null,null)}function d(l){return i.Jb(0,[(l()(),i.rb(0,0,null,null,17,"ion-item",[],null,null,null,t.T,t.r)),i.qb(1,49152,null,0,r.I,[i.h,i.k,i.x],null,null),(l()(),i.rb(2,0,null,0,15,"ion-card",[],null,null,null,t.K,t.e)),i.qb(3,49152,null,0,r.n,[i.h,i.k,i.x],null,null),(l()(),i.rb(4,0,null,0,7,"ion-card-header",[],null,null,null,t.H,t.g)),i.qb(5,49152,null,0,r.p,[i.h,i.k,i.x],null,null),(l()(),i.rb(6,0,null,0,2,"ion-card-subtitle",[],null,null,null,t.I,t.h)),i.qb(7,49152,null,0,r.q,[i.h,i.k,i.x],null,null),(l()(),i.Ib(8,0,["",""])),(l()(),i.rb(9,0,null,0,2,"ion-card-title",[],null,null,null,t.J,t.i)),i.qb(10,49152,null,0,r.r,[i.h,i.k,i.x],null,null),(l()(),i.Ib(11,0,["",""])),(l()(),i.rb(12,0,null,0,5,"ion-card-content",[],null,null,null,t.G,t.f)),i.qb(13,49152,null,0,r.o,[i.h,i.k,i.x],null,null),(l()(),i.Ib(14,0,[" "," "])),(l()(),i.rb(15,0,null,0,0,"p",[],null,null,null,null,null)),(l()(),i.rb(16,0,null,0,1,"div",[["style","font-weight: bold;"]],null,null,null,null,null)),(l()(),i.Ib(17,null,["A "," de voc\xea"]))],null,(function(l,n){var u=n.component;l(n,8,0,n.context.$implicit.categoria),l(n,11,0,n.context.$implicit.titulo),l(n,14,0,n.context.$implicit.descricao),l(n,17,0,u.distance(n.context.$implicit))}))}function k(l){return i.Jb(0,[(l()(),i.rb(0,0,null,null,6,"ion-header",[],null,null,null,t.Q,t.o)),i.qb(1,49152,null,0,r.C,[i.h,i.k,i.x],null,null),(l()(),i.rb(2,0,null,0,4,"ion-toolbar",[],null,null,null,t.db,t.B)),i.qb(3,49152,null,0,r.Db,[i.h,i.k,i.x],null,null),(l()(),i.rb(4,0,null,0,2,"ion-title",[],null,null,null,t.cb,t.A)),i.qb(5,49152,null,0,r.Bb,[i.h,i.k,i.x],null,null),(l()(),i.Ib(-1,0,[" CAD\xca - An\xfancios "])),(l()(),i.rb(7,0,null,null,22,"ion-content",[],null,null,null,t.N,t.l)),i.qb(8,49152,null,0,r.v,[i.h,i.k,i.x],null,null),(l()(),i.rb(9,0,null,0,6,"div",[["class","ion-padding"]],null,null,null,null,null)),(l()(),i.rb(10,0,null,null,5,"ion-list",[],null,null,null,t.V,t.t)),i.qb(11,49152,null,0,r.P,[i.h,i.k,i.x],null,null),(l()(),i.gb(16777216,null,0,1,null,p)),i.qb(13,16384,null,0,c.i,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(l()(),i.gb(16777216,null,0,1,null,d)),i.qb(15,278528,null,0,c.h,[i.M,i.J,i.q],{ngForOf:[0,"ngForOf"]},null),(l()(),i.rb(16,0,null,0,4,"ion-button",[["fill","outline"],["routerLink","/portal-anunciante"]],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==i.Db(l,18).onClick()&&o),"click"===n&&(o=!1!==i.Db(l,19).onClick(u)&&o),o}),t.E,t.c)),i.qb(17,49152,null,0,r.l,[i.h,i.k,i.x],{fill:[0,"fill"]},null),i.qb(18,16384,null,0,b.n,[b.m,b.a,[8,null],i.B,i.k],{routerLink:[0,"routerLink"]},null),i.qb(19,737280,null,0,r.Lb,[c.g,r.Ib,i.k,b.m,[2,b.n]],null,null),(l()(),i.Ib(-1,0,["Portal do Anunciante"])),(l()(),i.rb(21,0,null,0,4,"ion-button",[["fill","outline"],["routerLink","/cad-perfil"]],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==i.Db(l,23).onClick()&&o),"click"===n&&(o=!1!==i.Db(l,24).onClick(u)&&o),o}),t.E,t.c)),i.qb(22,49152,null,0,r.l,[i.h,i.k,i.x],{fill:[0,"fill"]},null),i.qb(23,16384,null,0,b.n,[b.m,b.a,[8,null],i.B,i.k],{routerLink:[0,"routerLink"]},null),i.qb(24,737280,null,0,r.Lb,[c.g,r.Ib,i.k,b.m,[2,b.n]],null,null),(l()(),i.Ib(-1,0,["Cadastrar Perfil"])),(l()(),i.rb(26,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],(function(l,n,u){var i=!0;return"ionRefresh"===n&&(i=!1!==l.component.doRefresh(u)&&i),i}),t.X,t.u)),i.qb(27,49152,null,0,r.eb,[i.h,i.k,i.x],null,null),(l()(),i.rb(28,0,null,0,1,"ion-refresher-content",[["pullingIcon","arrow-dropdown"],["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Refreshing..."]],null,null,null,t.W,t.v)),i.qb(29,49152,null,0,r.fb,[i.h,i.k,i.x],{pullingIcon:[0,"pullingIcon"],pullingText:[1,"pullingText"],refreshingSpinner:[2,"refreshingSpinner"],refreshingText:[3,"refreshingText"]},null)],(function(l,n){var u=n.component;l(n,13,0,!u.anuncios||u.anuncios.length<=0),l(n,15,0,u.anuncios),l(n,17,0,"outline"),l(n,18,0,"/portal-anunciante"),l(n,19,0),l(n,22,0,"outline"),l(n,23,0,"/cad-perfil"),l(n,24,0),l(n,29,0,"arrow-dropdown","Pull to refresh","circles","Refreshing...")}),null)}function g(l){return i.Jb(0,[(l()(),i.rb(0,0,null,null,1,"app-home",[],null,null,null,k,f)),i.qb(1,114688,null,0,h,[a.a,"storagePerfil",s.a,b.a],null,null)],(function(l,n){l(n,1,0)}),null)}var x=i.nb("app-home",h,g,{},{},[]),q=u("s7LF");u.d(n,"HomePageModuleNgFactory",(function(){return m}));var m=i.ob(o,[],(function(l){return i.Ab([i.Bb(512,i.j,i.Z,[[8,[e.a,x]],[3,i.j],i.v]),i.Bb(4608,c.k,c.j,[i.s,[2,c.q]]),i.Bb(4608,q.o,q.o,[]),i.Bb(4608,r.b,r.b,[i.x,i.g]),i.Bb(4608,r.Hb,r.Hb,[r.b,i.j,i.p]),i.Bb(4608,r.Kb,r.Kb,[r.b,i.j,i.p]),i.Bb(1073742336,c.b,c.b,[]),i.Bb(1073742336,q.n,q.n,[]),i.Bb(1073742336,q.e,q.e,[]),i.Bb(1073742336,r.Fb,r.Fb,[]),i.Bb(1073742336,b.o,b.o,[[2,b.t],[2,b.m]]),i.Bb(1073742336,o,o,[]),i.Bb(1024,b.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);