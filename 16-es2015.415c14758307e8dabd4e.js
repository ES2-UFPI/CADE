(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"b5I+":function(l,n,o){"use strict";o.r(n);var a=o("8Y7J"),t=o("mrSG"),u=o("zBdl"),i=o("ZZ/e"),c=o("1tsC");class e{constructor(l,n,o,a){this.platform=l,this._route=n,this._router=o,this._anuncioService=a}ngOnInit(){return t.__awaiter(this,void 0,void 0,(function*(){console.log("INIT"),this.anuncio=this._anuncioService.loadLocal(),this.anuncio?(this.location=this.anuncio.geolocalizacao,this.location||(this.location=this._route.snapshot.data.location.latLng)):this.location=this._route.snapshot.data.location.latLng,yield this.platform.ready(),console.log("ready"),console.log(this.location),yield this.loadMap()}))}loadMap(){this.map=u.a.create("map_canvas",{controls:{compass:!0,myLocationButton:!0,myLocation:!0,zoom:!0,mapToolbar:!0},gestures:{scroll:!0,zoom:!0,rotate:!0},camera:{target:[this.location]},preferences:{zoom:{maxZoom:18},building:!1}})}choosePlace(){this.anuncio.geolocalizacao=this.map.getCameraPosition().target,this._anuncioService.saveLocal(this.anuncio),console.log(this._anuncioService.loadLocal().geolocalizacao),this._router.navigate(["/cad-anuncio"])}}class r{}var s=o("pMnS"),b=o("oBZk"),h=o("iInd"),p=a.pb({encapsulation:0,styles:[["#map_canvas[_ngcontent-%COMP%]{height:90%;position:relative}#centerMarkerImage[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;width:32px;height:32px;z-index:1}"]],data:{}});function d(l){return a.Jb(0,[(l()(),a.rb(0,0,null,null,11,"ion-header",[],null,null,null,b.Q,b.o)),a.qb(1,49152,null,0,i.C,[a.h,a.k,a.x],null,null),(l()(),a.rb(2,0,null,0,9,"ion-toolbar",[],null,null,null,b.db,b.B)),a.qb(3,49152,null,0,i.Db,[a.h,a.k,a.x],null,null),(l()(),a.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,b.F,b.d)),a.qb(5,49152,null,0,i.m,[a.h,a.k,a.x],null,null),(l()(),a.rb(6,0,null,0,2,"ion-back-button",[["defaultHref","cad-anuncio"]],null,[[null,"click"]],(function(l,n,o){var t=!0;return"click"===n&&(t=!1!==a.Db(l,8).onClick(o)&&t),t}),b.D,b.b)),a.qb(7,49152,null,0,i.h,[a.h,a.k,a.x],{defaultHref:[0,"defaultHref"]},null),a.qb(8,16384,null,0,i.i,[[2,i.jb],i.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),a.rb(9,0,null,0,2,"ion-title",[],null,null,null,b.cb,b.A)),a.qb(10,49152,null,0,i.Bb,[a.h,a.k,a.x],null,null),(l()(),a.Ib(-1,0,["Escolha um Local para o An\xfancio"])),(l()(),a.rb(12,0,null,null,6,"ion-content",[],null,null,null,b.N,b.l)),a.qb(13,49152,null,0,i.v,[a.h,a.k,a.x],null,null),(l()(),a.rb(14,0,[["map_canvas",1]],0,1,"div",[["id","map_canvas"]],null,null,null,null,null)),(l()(),a.rb(15,0,null,null,0,"img",[["id","centerMarkerImage"],["src","assets/marker.png"]],null,null,null,null,null)),(l()(),a.rb(16,0,null,0,2,"ion-button",[["fill","outline"]],null,[[null,"click"]],(function(l,n,o){var a=!0;return"click"===n&&(a=!1!==l.component.choosePlace()&&a),a}),b.E,b.c)),a.qb(17,49152,null,0,i.l,[a.h,a.k,a.x],{fill:[0,"fill"]},null),(l()(),a.Ib(-1,0,["OK"]))],(function(l,n){l(n,7,0,"cad-anuncio"),l(n,8,0,"cad-anuncio"),l(n,17,0,"outline")}),null)}function m(l){return a.Jb(0,[(l()(),a.rb(0,0,null,null,1,"app-maps",[],null,null,null,d,p)),a.qb(1,114688,null,0,e,[i.Jb,h.a,h.m,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var g=a.nb("app-maps",e,m,{},{},[]),f=o("SVse"),v=o("s7LF");o.d(n,"MapsPageModuleNgFactory",(function(){return k}));var k=a.ob(r,[],(function(l){return a.Ab([a.Bb(512,a.j,a.Z,[[8,[s.a,g]],[3,a.j],a.v]),a.Bb(4608,f.k,f.j,[a.s,[2,f.q]]),a.Bb(4608,v.o,v.o,[]),a.Bb(4608,i.b,i.b,[a.x,a.g]),a.Bb(4608,i.Hb,i.Hb,[i.b,a.j,a.p]),a.Bb(4608,i.Kb,i.Kb,[i.b,a.j,a.p]),a.Bb(1073742336,f.b,f.b,[]),a.Bb(1073742336,v.n,v.n,[]),a.Bb(1073742336,v.e,v.e,[]),a.Bb(1073742336,i.Fb,i.Fb,[]),a.Bb(1073742336,h.o,h.o,[[2,h.t],[2,h.m]]),a.Bb(1073742336,r,r,[]),a.Bb(1024,h.k,(function(){return[[{path:"",component:e}]]}),[])])}))}}]);